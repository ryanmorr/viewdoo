/*! @ryanmorr/viewdoo v1.0.4 | https://github.com/ryanmorr/viewdoo */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).viewdoo=t()}(this,(function(){"use strict";
/*! @ryanmorr/csscope v0.1.1 | https://github.com/ryanmorr/csscope */
/*! @ryanmorr/amble v0.1.2 | https://github.com/ryanmorr/amble */const e=/([^{};]*)([;{}])/g,t=/(\r\n|\r|\n)+/g,n=/\t/g,r=/\s{2,}/g,s=/\/\*[\W\w]*?\*\//g,u=/\s*([:;{}])\s*/g,i=/\};+/g,c=/([^:;{}])}/g,o=/^(?:\\.|[\w\-\u00c0-\uFFFF])+/,l=/^:((?:\\.|[\w\u00c0-\uFFFF-])+)(?:\((['"]?)((?:\([^)]+\)|[^()]*)+)\2\))?/,f=/^\[((?:\\.|[\w\u00c0-\uFFFF-])+)\s*(?:(\S?=)\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00c0-\uFFFF-])*)|)|)\s*(i)?\]/,a=/@keyframes\s*((?:\\.|[\w\-\u00c0-\uFFFF])+)/gi,h=/^(animation(?:-name)?)\s*:\s*(.*)$/;
/*! @ryanmorr/schedule-render v3.0.2 | https://github.com/ryanmorr/schedule-render */
let p,m;const d=[],g=5;function F(){return performance.now()}function _(){return d.length>0}function q(){m=F();do{_()&&d.shift()()}while(F()-m<g);p=null,_()&&(p=requestAnimationFrame(q))}const w=/<style>([\s\S]*?)<\/style>/,y=/<script>([\s\S]*?)<\/script>/,$=/(\r\n|\r|\n)/g,b=/{{\s*(.+?)\s*}}/g,A=/^each\s+(.*)\s+as\s+(.*)$/,v=/^if\s+(.*)$/,x=/^else if\s+(.*)$/,W="viewdoo-",j=document.createElement("template");function E(){return Math.random().toString(36).substring(2,9)}function S(p,m){const d=document.createElement("style");d.setAttribute(m,""),d.innerHTML=function(p,m){const d=[];m=function(e,t,n){return e.replace(a,((e,r)=>(n.push(r),"@keyframes "+t+"-"+r)))}(m,p,d);let g="",F=!1,_=0;return function(o,l){o=function(e){return e.replace(t," ").replace(n," ").replace(r," ").replace(s,"").trim().replace(u,"$1").replace(i,"}").replace(c,"$1;}")}(o),e.lastIndex=0;for(let t;null!=(t=e.exec(o));)l(t[1],t[2])}(m,((e,t)=>{"{"==t?(F&&_++,"@"===e.charAt(0)?(e.startsWith("@keyframes")&&(F=!0,_++),g+=e):g+=F?e:function(e,t){const n="["+t+"]";let r=0,s=!1,u=!1,i=!1;function c(e){r+=e}function a(t){e=e.slice(0,t)+n+e.slice(t),c(n.length)}function h(t,n){return t=r+t,e.substring(t,t+n)}function p(t){c(e.substring(r).match(t)[0].length)}function m(){let t=1;for(;d(e.charAt(r+t));)t++;c(t)}function d(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function g(){return!u&&!i}for(;r<e.length;){const t=e.charAt(r);d(t)?(s=!0,m()):">"===t||"~"===t||"+"===t?(g()&&a(s?r-1:r),">>>"===h(0,3)?(e=e.slice(0,s?r-1:r)+(s?"":" ")+e.slice(r+3),i=!0):c(1),u=s=!1,m()):","===t?(g()&&a(d(h(-1,1))?r-1:r),u=i=s=!1,m()):(s&&(g()&&a(r-1),s=!1),"*"===t?c(1):"#"===t||"."===t?(c(1),p(o)):"["===t?(g()&&(a(r),u=!0),p(f)):":"===t?(g()&&(a(r),u=!0),"::"===h(0,2)?(c(2),p(o)):p(l)):o.test(e.substring(r))&&p(o))}return g()&&(e+=n),e}(e.trim(),p),g+="{\n"):"}"==t?(g+="}\n",F&&(_--,0===_&&(F=!1))):";"==t&&(e.startsWith("animation")&&d.length>0?g+=function(e,t,n){const r=e.match(h),s=r[1],u=r[2].split(",");for(let e=0,r=u.length;e<r;e++){const r=u[e].trim().split(" "),s=r[0];n.includes(s)&&(r[0]=t+"-"+s),u[e]=r.join(" ")}return s+":"+u.join(",")}(e,p,d)+";\n":g+=e+";\n")})),g}(m,p),document.head.appendChild(d)}return function(e){const[t,n]=function(e){let t,n,r;const s=e.replace(w,((e,t)=>(n=t.trim())&&"")).replace(y,((e,n)=>(t=n.trim())&&"")).trim().replace($,"\\n");return n&&(r=W+E(),S(n,r)),[r,new Function(`\n        with (this) {\n            ${t}\n            return function() {\n                let _strings = [], _sequence = [], _values = [];\n                _sequence.push('${s.replace(b,((e,t)=>{if(t.startsWith("each")){let e=A.exec(t);if(e)return`'); (${e[1]}).forEach((${e[2]}) => { _sequence.push('`}else if(t.startsWith("if")){let e=v.exec(t);if(e)return`'); if (${e[1]}) { _sequence.push('`}else if(t.startsWith("else if")){let e=x.exec(t);if(e)return`'); } else if (${e[1]}) { _sequence.push('`}else{if("else"===t)return"'); } else { _sequence.push('";if("/each"===t)return"'); }); _sequence.push('";if("/if"===t)return"'); } _sequence.push('"}return`'); _strings.push(_sequence.join('')); _sequence = []; _values.push(${t}); _sequence.push('`}))}');\n                _strings.push(_sequence.join(''));\n                return [_strings, _values];\n            };\n        }\n    `)]}(e);return(e={})=>{let r,s,u,i=!1;const c=()=>{const[e,n]=r(),i=function(e,t,n){const r={};j.innerHTML=e.reduce(((e,n,s)=>{let u=t[s-1];if("function"==typeof u){let e=E();r[e]=u,u=e}return e+u+n}));const s=j.content;return s.querySelectorAll("*").forEach((e=>{const t=e.attributes;for(let n=0;n<t.length;n++){const s=t[n].name,u=t[n].value;s.startsWith("on")&&u in r&&(e.removeAttribute(s),e.addEventListener(s.slice(2).toLowerCase(),r[u]))}n&&e.setAttribute(n,"")})),s}(e,n,t),c=Array.from(i.childNodes);return u||(u=document.createTextNode(""),i.appendChild(u)),s&&(s.forEach((e=>e.remove())),u.parentNode.insertBefore(i,u)),s=c,i},o=new Proxy(e,{set(e,t,n){const s=e[t];return e[t]=n,r&&!i&&(n!==s||n&&"object"==typeof n)&&(i=!0,function(e){new Promise((t=>{p||(p=requestAnimationFrame(q)),d.push((()=>t(e())))}))}((()=>{c(),i=!1}))),!0}});return r=n.call(o),[c(),o]}}}));
